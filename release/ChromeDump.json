{"preserveDocWrite": true, "enabled": true, "css": "", "js": "", "html": "<script>\n\nvar __addons=['__autocompleteWithLinks', '__autocompleteWithSelection'];\nvar __addonsStarted= false;\n\nfunction __toogleEnabled(name, value){\n    value= value? \"yes\":\"no\";\n    localStorage[\"__Enable__\"+name]= value;\n};\n\nfunction __addonLoader() {\n    __addonsStarted= true;\n    var div1= document.createElement('div');\n    div1.style.display=\"none\";\n    div1.id= \"__div_options\";\n    var htmlDiv=\"<TABLE>\";\n    for (var i in __addons) {\n        htmlDiv+=\"<TR><TD><INPUT type='checkbox' onclick='__toogleEnabled(\\\"\"+__addons[i]+\"\\\", this.checked);' \";\n        if (localStorage[\"__Enable__\"+__addons[i]]==\"yes\") htmlDiv+=\"checked \";\n        htmlDiv+=\"></TD><TD>\"+__addons[i].replace(\"__\", \"\")+\"</TD></TR>\";\n    };\n    htmlDiv+=\"</TABLE>\";\n    //console.log(htmlDiv);\n    div1.innerHTML=htmlDiv;\n    var img=document.createElement('img');\n    img.src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAIAAAADnC86AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACjSURBVFhH7dNBCsMwEEPRnif36c1yVe+rYBGKVpJNbALzURfNQB8E+mmjHd8T45e8QbirM/YI/K/28ZBUsJOoGA9JBTuJivGQVLCTqBgPSQU7iYrxkPQeWMh7PNsRll95dF28YDks2AXLo2XbB2971fgstru4++8UJSTGQ1LBTqJiPCQV7CQqxkNSwU6iYjwkFewkKsZD0qtgNKmiQRjNqK21H9+y+LNChwLDAAAAAElFTkSuQmCC\";\n    img.style.width=img.style.height=\"16px\";\n    img.id= \"__imageIcon\";\n    img.onclick= function(e) {\n        if (div1.style.display==\"none\") {\n            div1.style.display=\"block\";\n        } else {\n            div1.style.display=\"none\";\n        };\n    };\n    $(img).insertBefore($(\"#searchBar div a\")[0]);\n    $(div1).insertBefore(img);\n    for (var i in __addons) {\n        if (localStorage[\"__Enable__\"+__addons[i]]==\"yes\") {\n            window[__addons[i]]();\n        }\n    }\n};\n\ndocument.addEventListener( \"DOMContentLoaded\", __addonLoader, false );\nvar __check__Started= function(){\n    if (!__addonsStarted) __addonLoader();\n};\nwindow.setTimeout(__check__Started, 300);\n\n\n// @author Yura Ivanov\nfunction __autocompleteWithLinks() {\n    if (typeof $ != 'undefined') {\n        if ($(\"#question-table\").length) {\n            var users = [];\n            var a = \"\";\n            function addUser(name, link, type) {\n                name = name.replace(/@| \u043f\u0457\u0405+/, '');\n                if (users.indexOf(link) < 0) {\n                    users.push(link);\n                    return \"<li><a href='#' class='user_quote'>@\" + name\n                            + \"</a> - \" + type + \"</li>\";\n                } else {\n                    return \"\";\n                }\n            }\n            $(\"#question-table [itemprop='author'] a\").each(function(idx, u) {\n                var $u = $(u);\n                var link = $u.attr(\"href\");\n                var name = $u.text();\n                a += addUser(name, link, \"\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\");\n            });\n            $(\"[itemprop='comment'] [itemprop='author'] a\").each(\n                    function(idx, u) {\n                        var $u = $(u);\n                        var link = $u.attr(\"href\");\n                        var name = $u.text();\n                        a += addUser(name, link, \"\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\");\n                    });\n            $(\"a.userinfo\").each(function(idx, u) {\n                var $u = $(u);\n                var link = $u.attr(\"href\");\n                var name = $u.text();\n                a += addUser(name, link, \"\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\");\n            });\n            $(\"#main-body a[href^='\\/users\\/']\").each(function(idx, u) {\n                var $u = $(u);\n                var link = $u.attr(\"href\");\n                var name = $u.text();\n                a += addUser(name, link, \"\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405 \u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\u043f\u0457\u0405\");\n            });\n            var d = $(\"<div class='users_menu' style=''><ul>\" + a\n                    + \"</ul></div>\");\n            d.insertBefore($(\"#editor, .commentBox\"));\n            $(\".user_quote\").click(\n                    function(e) {\n                        e.preventDefault();\n                        var myField = $(\"#editor, .commentBox\", $(this)\n                                .closest('.users_menu').parent())[0];\n                        if (myField.selectionStart\n                                || myField.selectionStart == '0') {\n                            var startPos = myField.selectionStart;\n                            var endPos = myField.selectionEnd;\n                            var myValue = (startPos > 0\n                                    && myField.value.substring(startPos - 1,\n                                            startPos) != ' ' ? ' ' : '')\n                                    + $(this).text() + ', ';\n                            myField.value = myField.value\n                                    .substring(0, startPos)\n                                    + myValue\n                                    + myField.value.substring(endPos,\n                                            myField.value.length);\n                        } else {\n                            myField.value += myValue;\n                        }\n                        myField.focus();\n                    });\n        }\n    }\n};\nfunction __autocompleteWithSelection() {\n\n    var arrayUnique = function(a) { // \u0420\u0455\u0421\u0403\u0421\u201a\u0420\u00b0\u0420\u0406\u0420\u00bb\u0421\u040f\u0420\u00b5\u0421\u201a \u0420\u0406 \u0420\u0458\u0420\u00b0\u0421\u0403\u0421\u0403\u0420\u0451\u0420\u0406\u0420\u00b5 \u0421\u201a\u0420\u0455\u0420\u00bb\u0421\u040a\u0420\u0454\u0420\u0455 \u0421\u0453\u0420\u0405\u0420\u0451\u0420\u0454\u0420\u00b0\u0420\u00bb\u0421\u040a\u0420\u0405\u0421\u2039\u0420\u00b5 \u0420\u00b7\u0420\u0405\u0420\u00b0\u0421\u2021\u0420\u00b5\u0420\u0405\u0420\u0451\u0421\u040f\n        return a.reduce(function(p, c) {\n            if (p.indexOf(c) < 0) p.push(c);\n            return p;\n        }, []);\n    };\n    \n    // target- \u0420\u0457\u0420\u0455\u0420\u00bb\u0420\u00b5 \u0420\u0406\u0420\u0406\u0420\u0455\u0420\u0491\u0420\u00b0, text- \u0420\u0457\u0420\u0455\u0420\u00bb\u0420\u0405\u0420\u0455\u0420\u00b5 \u0421\u0403\u0420\u0455\u0420\u0406\u0420\u0457\u0420\u00b0\u0420\u0491\u0420\u00b5\u0420\u0405\u0420\u0451\u0420\u00b5, matchText- \u0421\u2021\u0420\u00b0\u0421\u0403\u0421\u201a\u0420\u0451\u0421\u2021\u0420\u0405\u0420\u0455\u0420\u00b5 \u0421\u0403\u0420\u0455\u0420\u0406\u0420\u0457\u0420\u00b0\u0420\u0491\u0420\u00b5\u0420\u0405\u0420\u0451\u0420\u00b5, \u0420\u0405\u0420\u00b0\u0420\u0457\u0421\u0402\u0420\u0451\u0420\u0458\u0420\u00b5\u0421\u0402\n    // \u0420\u0451\u0420\u0458\u0420\u00b5\u0421\u040f \u0420\u0405\u0420\u00b0 \u0420\u0406\u0421\u2026\u0420\u0455\u0420\u0491\u0420\u00b5 \"test\" \u0420\u0451 \"te\" \u0420\u00b1\u0421\u0453\u0420\u0491\u0420\u00b5\u0421\u201a \u0420\u0406\u0421\u2039\u0420\u0491\u0420\u00b5\u0420\u00bb\u0420\u00b5\u0420\u0405\u0420\u0455 \"st\" te[st]\n    var completeSelection= function( target, text, matchText) {\n        target.value=target.value.substring(0, target.adduser+1)+text+target.value.substring(target.selectionEnd);\n        target.selectionStart= target.adduser+matchText.length+1;\n        target.selectionEnd  = target.adduser+text.length+1;\n        // console.log([value, target.adduser, target.selectionStart]);\n    };\n    \n    var regexUsers = new RegExp(\"<a\\\\s[^>]*href\\\\s*=\\\\s*\\\"\\/users\\/\\\\d(?![^>]*\\/(?:reputation|subscriptions)\\/)[^>]*>([\\\\s\\\\S]*?)<\\/a>\", 'ig');\n    var users = Array();\n    var usersLow= Array()\n    var regexLoginClear1= new RegExp(\"(?:^@)|\\\\s*\\u2666+\", 'ig');\n    var regexLoginClear2= new RegExp(\"<span[^>]*>([^<]+)<\\/span>\", \"ig\");\n    // \u0421\u0403\u0420\u0405\u0420\u00b0\u0421\u2021\u0420\u00b0\u0420\u00bb\u0420\u00b0 \u0420\u0405\u0420\u00b0\u0421\u2026\u0420\u0455\u0420\u0491\u0420\u0451\u0420\u0458 \u0420\u0406\u0421\u0403\u0420\u00b5 \u0420\u00bb\u0420\u0455\u0420\u0456\u0420\u0451\u0420\u0405\u0421\u2039, \u0420\u0454\u0420\u0455\u0421\u201a\u0420\u0455\u0421\u0402\u0421\u2039\u0420\u00b5 \u0420\u00b5\u0421\u0403\u0421\u201a\u0421\u040a \u0420\u0405\u0420\u00b0 \u0421\u0403\u0421\u201a\u0421\u0402\u0420\u00b0\u0420\u0405\u0420\u0451\u0421\u2020\u0420\u00b5 \u0420\u0451 \u0420\u0455\u0421\u0403\u0421\u201a\u0420\u00b0\u0420\u0406\u0420\u00bb\u0421\u040f\u0420\u00b5\u0420\u0458 \u0420\u0451\u0420\u00b7 \u0420\u0405\u0420\u0451\u0421\u2026 \u0421\u201a\u0420\u0455\u0420\u00bb\u0421\u040a\u0420\u0454\u0420\u0455 \u0421\u0453\u0420\u0405\u0420\u0451\u0420\u0454\u0420\u00b0\u0420\u00bb\u0421\u040a\u0420\u0405\u0421\u2039\u0420\u00b5 \u0420\u0406 \u0420\u0405\u0420\u0451\u0420\u00b6\u0420\u0405\u0420\u00b5\u0420\u0458 \u0421\u0402\u0420\u00b5\u0420\u0456\u0420\u0451\u0421\u0403\u0421\u201a\u0421\u0402\u0420\u00b5\n    while ( (match=regexUsers.exec(document.body.innerHTML)) != null ) {\n        var userLogin= match[1].replace(regexLoginClear2, \"$1\").replace(regexLoginClear1, '');\n        usersLow.push(userLogin.toLowerCase());\n        users[userLogin.toLowerCase()]=userLogin;\n    };\n    usersLow= arrayUnique(usersLow);\n    // \u0420\u00b5\u0421\u0403\u0420\u00bb\u0420\u0451 \u0420\u0454\u0421\u0453\u0421\u0402\u0421\u0403\u0420\u0455\u0421\u0402 \u0421\u0453\u0421\u20ac\u0420\u00b5\u0420\u00bb \u0420\u0406\u0420\u00bb\u0420\u00b5\u0420\u0406\u0420\u0455 \u0420\u0455\u0421\u201a \u0421\u0403\u0420\u0455\u0420\u00b1\u0420\u00b0\u0420\u0454\u0420\u0451 \u0420\u0451\u0420\u00bb\u0420\u0451 \u0420\u0405\u0420\u00b0 30 \u0421\u0403\u0420\u0451\u0420\u0458\u0420\u0406\u0420\u0455\u0420\u00bb\u0420\u0455\u0420\u0406 \u0420\u0457\u0421\u0402\u0420\u00b0\u0420\u0406\u0420\u00b5\u0420\u00b5, \u0421\u201a\u0420\u0455 \u0420\u0457\u0420\u00b5\u0421\u0402\u0420\u00b5\u0421\u0403\u0421\u201a\u0420\u00b0\u0420\u00b5\u0420\u0458 \u0420\u0455\u0421\u201a\u0421\u0403\u0420\u00bb\u0420\u00b5\u0420\u00b6\u0420\u0451\u0420\u0406\u0420\u00b0\u0421\u201a\u0421\u040a\n    $(\"textarea\").bind(\"keydown\", function(e) {\n        if (e.target.adduser>=e.target.selectionEnd || e.target.adduser+30<e.target.selectionStart) e.target.adduser= null;\n    });\n    $(\"textarea\").bind(\"keypress\", function(e){\n            // \u0420\u0405\u0420\u00b0\u0420\u00b6\u0420\u00b0\u0420\u00bb\u0420\u0451 \u0421\u0403\u0420\u0455\u0420\u00b1\u0420\u00b0\u0420\u0454\u0421\u0453- \u0420\u0405\u0420\u00b0\u0421\u2021\u0420\u00b0\u0420\u00bb\u0420\u0451 \u0420\u0455\u0421\u201a\u0421\u0403\u0420\u00bb\u0420\u00b5\u0420\u00b6\u0420\u0451\u0420\u0406\u0420\u00b0\u0421\u201a\u0421\u040a\n            if (e.charCode==64) {\n                e.target.adduser=e.target.selectionStart;\n            }\n            // \u0420\u0457\u0421\u0402\u0420\u0455\u0420\u00b1\u0420\u00b5\u0420\u00bb\n            if (e.charCode==32 && e.target.adduser!=null) {\n                short=e.target.value.substring(e.target.adduser+1, e.target.selectionStart).toLowerCase();\n                long= e.target.value.substring(e.target.adduser+1, e.target.selectionEnd);\n                var find= null; // \u0421\u0402\u0420\u00b5\u0420\u00b7\u0421\u0453\u0420\u00bb\u0421\u040a\u0421\u201a\u0420\u00b0\u0421\u201a \u0420\u0457\u0420\u0455\u0420\u0451\u0420\u0454\u0420\u00b0 \u0420\u0406 \u0420\u0458\u0420\u00b0\u0421\u0403\u0421\u0403\u0420\u0451\u0420\u0406\u0420\u00b5\n                nextFindIsResult= (short==\"\" && long==\"\"); // \u0420\u0491\u0420\u00bb\u0421\u040f \u0420\u0457\u0421\u0402\u0420\u0455\u0420\u0454\u0421\u0402\u0421\u0453\u0421\u201a\u0420\u0454\u0420\u0451 \u0420\u0457\u0421\u0402\u0420\u0455\u0420\u00b1\u0420\u00b5\u0420\u00bb\u0420\u0455\u0420\u0458, \u0420\u00b5\u0421\u0403\u0420\u00bb\u0420\u0451 \u0420\u0457\u0421\u0402\u0420\u0455\u0420\u00b1\u0420\u00b5\u0420\u00bb \u0421\u0403\u0421\u0402\u0420\u00b0\u0420\u00b7\u0421\u0453 \u0420\u0457\u0420\u0455\u0421\u0403\u0420\u00bb\u0420\u00b5 \u0421\u0403\u0420\u0455\u0420\u00b1\u0420\u00b0\u0420\u0454\u0420\u0451, \u0420\u0451 \u0420\u0405\u0420\u0451\u0421\u2021\u0420\u00b5\u0420\u0458 \u0420\u0405\u0420\u00b5 \u0420\u0491\u0420\u0455\u0420\u0457\u0420\u0455\u0420\u00bb\u0420\u0405\u0420\u00b5\u0420\u0405\u0420\u0455, \u0421\u201a\u0420\u0455 \u0420\u0491\u0420\u0455\u0420\u0457\u0420\u0455\u0420\u00bb\u0420\u0405\u0421\u040f\u0420\u00b5\u0420\u0458 \u0420\u0457\u0420\u00b5\u0421\u0402\u0420\u0406\u0421\u2039\u0420\u0458 \u0420\u00b7\u0420\u0405\u0420\u00b0\u0421\u2021\u0420\u00b5\u0420\u0405\u0420\u0451\u0420\u00b5\u0420\u0458 \u0420\u0451\u0420\u00b7 \u0420\u0458\u0420\u00b0\u0421\u0403\u0421\u0403\u0420\u0451\u0420\u0406\u0420\u00b0\n                for (var i in usersLow) {\n                    if (usersLow[i]==long.toLowerCase()) {\n                        nextFindIsResult=true;\n                        continue;\n                    }\n                    if (nextFindIsResult && usersLow[i].indexOf(short)==0) { \n                        find= users[usersLow[i]];\n                        break;\n                    }\n                }\n                if (nextFindIsResult && (find==null || find==\"\")) {\n                    for (var i in usersLow) {\n                        if (usersLow[i].indexOf(short)==0) {\n                            find= users[usersLow[i]];\n                            break;\n                        }\n                    }\n                }\n                //console.log([find, long, short]);\n                if (find) { // \u0420\u00b5\u0421\u0403\u0420\u00bb\u0420\u0451 \u0421\u0403\u0420\u0455\u0420\u0406\u0420\u0457\u0420\u00b0\u0420\u0491\u0420\u00b5\u0420\u0405\u0420\u0451\u0420\u00b5 \u0420\u0455\u0420\u0491\u0420\u0405\u0420\u0455, \u0421\u201a\u0420\u0455 \u0420\u0491\u0420\u0455\u0420\u00b1\u0420\u00b0\u0420\u0406\u0420\u00bb\u0421\u040f\u0420\u00b5\u0420\u0458 \u0420\u00b7\u0420\u00b0\u0420\u0457\u0421\u040f\u0421\u201a\u0421\u0453\u0421\u040b \u0420\u0451 \u0420\u0457\u0420\u00b5\u0421\u0402\u0420\u00b5\u0420\u0405\u0420\u0455\u0421\u0403\u0420\u0451\u0420\u0458 \u0420\u0454\u0421\u0453\u0421\u0402\u0421\u0403\u0420\u0455\u0421\u0402\n                    if (find==long) find+=\",\";\n                    completeSelection(e.target, find, short);\n                    if (find==long+\",\") {\n                        e.target.selectionStart=e.target.selectionEnd;\n                        return true;\n                    }\n                    return false;\n                }\n            };\n            // \u0420\u0454\u0420\u0405\u0420\u0455\u0420\u0457\u0420\u0454\u0420\u0451 \u0420\u0455\u0421\u201a\u0420\u00bb\u0420\u0451\u0421\u2021\u0420\u0405\u0421\u2039\u0420\u00b5 \u0420\u0455\u0421\u201a \u0420\u0457\u0421\u0402\u0420\u0455\u0420\u00b1\u0420\u00b5\u0420\u00bb\u0420\u00b0 \u0420\u0451 \u0421\u0403\u0420\u0455\u0420\u00b1\u0420\u00b0\u0420\u0454\u0420\u0451, \u0420\u0457\u0421\u2039\u0421\u201a\u0420\u00b0\u0420\u00b5\u0420\u0458\u0421\u0403\u0421\u040f \u0420\u0405\u0420\u00b0\u0420\u2116\u0421\u201a\u0420\u0451 \u0421\u0403\u0420\u0455\u0420\u0406\u0420\u0457\u0420\u00b0\u0420\u0491\u0420\u00b5\u0420\u0405\u0420\u0451\u0420\u00b5\n            if (e.target.adduser!=null && e.target.adduser<e.target.selectionStart) {\n                var short= (e.target.value.substring(e.target.adduser+1, e.target.selectionStart)+String.fromCharCode(e.charCode)).toLowerCase();\n                //console.log(short);\n                var find= null;\n                for (var i in usersLow) {\n                    if (usersLow[i].indexOf(short)==0) {\n                        find= users[usersLow[i]];\n                        break;\n                    }\n                }\n                if (find) {\n                    completeSelection(e.target, find, short);\n                    return false;\n                }\n            }\n        }\n    );\n};\n\n\n</script>", "urlRegex": "^http://((meta\\.|careers\\.|math\\.|russ\\.|admin\\.|user\\.)?hashcode|bitcode|rootcode|(games|turism|foto|hm|phys|english)?\\.sezn)\\.ru", "name": "HashCode Addons", "filters": [], "urlExcludeRegex": ""}